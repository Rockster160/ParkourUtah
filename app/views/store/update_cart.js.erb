killFlashes();
$('body').prepend('<%= j render "layouts/flashes" %>');
$('.shopping-cart-price-holder').html('<%= j number_to_currency(@cart.price_in_dollars) %>');
$('.shopping-cart-taxes-holder').html('<%= j number_to_currency(@cart.taxes_in_dollars) %>');
$('.shopping-cart-shipping-holder').html('<%= j number_to_currency(@cart.shipping_in_dollars) %>');
$('.shopping-cart-total-holder').html('<%= j number_to_currency(@cart.total_in_dollars) %>');
$('.stripe-button').attr('data-amount', '<%= j number_to_currency(@cart.total_in_dollars) %>');
<% @cart.transactions.each do |order| %>
  var amount = "<%= order.amount %>";
  $('.value-selector-<%= order.item_id %>').val(amount);
<% end %>
$('.shopping-cart-line-item-quantity-input').each(function(){
  var $container = $(this).parents('.shopping-cart-cell');
  if ($(this).val() == "0" || $(this).val() == "" || $(this).val() == 0) {
    $container.slideUp(500, function() { $(this).remove() });
  }
});
<% if @order %>
  $('.orders-placeholder').append('<div class="hidden-holder" style="display:none;"><%= j render partial: "shopping_cart_item", locals: {order: @order} %></div>');
  $('.hidden-holder:last').slideDown(500);
<% end %>
